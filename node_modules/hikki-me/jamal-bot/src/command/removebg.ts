import { ICommand, IMessage } from '../Types'
import { removeBg } from '../Utils'

export let handler: ICommand = async (m: IMessage, { args, jamal }): Promise<any> => {
  let q = m.quoted && m.quoted.isMedia ? await m.quoted.download() : m.isMedia ? await m.download() : null
  if (q == null) return m.reply('please provide a media')
  const data = await removeBg(q)
  if (!data) return m.reply('failed to remove background')
  m.reply(data)
}
handler.tags = ['downloader']
handler.command = /^(removebg|nobg)$/i
handler.help = ['removebg', 'nobg']
