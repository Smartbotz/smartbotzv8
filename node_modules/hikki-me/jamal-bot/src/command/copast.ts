import { ICommand, IMessage } from '../Types'

export let handler: ICommand = async (m: IMessage, { command, jamal }): Promise<any> => {
  if (!m.quoted) return m.reply('You need to quote a message to use this command')
  if (command === 'quoted') {
    const q = m.quoted.getQuoted()
    if (!q) return m.reply('This message is not quoted')
    return jamal.copasDlu(m.chat, q, false)
  } else {
    m.quoted.copast()
  }
}
handler.tags = ['owner']
handler.command = /^(copast|copy|quoted)/i
handler.help = ['copast']
